var K=Object.defineProperty;var L=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var F=(a,t,i)=>t in a?K(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,G=(a,t)=>{for(var i in t||(t={}))M.call(t,i)&&F(a,i,t[i]);if(L)for(var i of L(t))U.call(t,i)&&F(a,i,t[i]);return a};var H=(a,t)=>{var i={};for(var o in a)M.call(a,o)&&t.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&L)for(var o of L(a))t.indexOf(o)<0&&U.call(a,o)&&(i[o]=a[o]);return i};import{T as W,a as Q,L as Y,b as Z,c as $,d as ee,r as oe,e as te,f as se,D as ie,g as le,h as ne,i as y,w as X,u as ae,j as p,o as l,k as n,l as v,m as h,n as e,p as m,t as b,q as w,v as re,s as T,F as S,x as I,y as O,z as V,A as ce,B as E,C as de,E as B,G as ue,H as ve}from"./vendor.9d5f729b.js";const fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerpolicy&&(u.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?u.credentials="include":r.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}};fe();var pe=(a,t)=>{for(const[i,o]of t)a[i]=o;return a};const be=[{label:"White",value:"bg-white"},{label:"Light Gray",value:"bg-gray-100"},{label:"Heavy Gray",value:"bg-gray-300"},{label:"Light Green",value:"bg-green-100"},{label:"Heavy Green",value:"bg-green-300"},{label:"Light yellow",value:"bg-yellow-200"},{label:"Heavy yellow",value:"bg-yellow-500"},{label:"Lightest Red",value:"bg-red-200"},{label:"Light Red",value:"bg-red-400"},{label:" Red",value:"bg-red-500"},{label:"Dark Red",value:"bg-red-700"}],ge={components:{TransitionRoot:W,TransitionChild:Q,Listbox:Y,ListboxButton:Z,ListboxOptions:$,ListboxOption:ee,CheckIcon:oe,SelectorIcon:te,XIcon:se,Dialog:ie,DialogOverlay:le,DialogTitle:ne},setup(){const a=y(!1),t=y(!1),i=y(),o=y(null),r=y(!0);X(r,(c,g)=>{o.value&&(i.value.techniques.find(z=>z.id===o.value).applicable=c)});const u=y("bg-white");X(u,(c,g)=>{o.value&&(i.value.techniques.find(z=>z.id===o.value).color=c)});const f=y(null),q=c=>{D.value=!0,o.value=c,f.value=i.value.techniques.find(g=>g.id===c),r.value=f.value.applicable,u.value=f.value.color},D=y(!1),A=()=>{const c=i.value.techniques.find(g=>g.id===o.value);c.comment=f.value.comment,c.intruder=parseInt(f.value.intruder),c.protect=parseInt(f.value.protect),c.detect=parseInt(f.value.detect)},k=y(!1),_=()=>{k.value=!1},j=()=>{k.value=!0};let C;const x=ae({onDrop:(c,g)=>{C=c[0],s()}}),{getRootProps:N,getInputProps:R}=x,P=H(x,["getRootProps","getInputProps"]),s=()=>{let c=new FileReader;c.onload=g=>i.value=JSON.parse(g.target.result),c.onerror=g=>console.log(g),c.readAsText(C),_()};return G({isActionsDialogVisible:a,isSearchDialogVisible:t,matrix:i,activeTechiqueId:o,activeTechique:f,setActiveTechique:q,saveTechnique:A,isTechniqueDialogVisible:D,activeTechniqueColor:u,colors:be,activeTechniqueApplicability:r,isOpen:k,closeModal:_,openModal:j,loadJSON:s,saveJSON:()=>{let c=new Blob([JSON.stringify(i.value)],{type:"application/json;charset=utf-8"});ce.exports.saveAs(c,"matrix.json")},getRootProps:N,getInputProps:R},P)}},he={class:"fixed inset-0 z-10 overflow-y-auto"},me={class:"min-h-screen px-4 text-center"},ye=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),_e={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},xe=E(" Load JSON-data "),we=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Choose json-file to load your data to application. ")],-1),ke={class:"h-32 bg-gray-100 border rounded-lg my-4 flex items-center justify-center text-xs"},Te={key:0},qe={key:1,class:"cursor-pointer"},De={class:"mt-4"},Ce={key:0,class:"absolute bottom-8 right-4 h-96 w-96 border bg-white flex flex-col z-10 shadow-lg rounded-t"},Le={class:"h-10 bg-gray-100 flex items-center justify-end px-1"},Se=e("div",{class:"flex-1 overflow-auto"},"Actions",-1),Ie={key:1,class:"absolute bottom-8 right-4 h-96 w-96 border bg-white flex flex-col z-10 shadow-lg rounded-t"},Oe={class:"h-10 bg-gray-100 flex items-center justify-end px-1"},Ve=e("div",{class:"flex-1 overflow-auto"},"Search results",-1),Ae={key:2,class:"absolute bg-gray-50 w-96 border-l inset-y-0 right-0 shadow-lg overflow-auto z-10 opacity-100"},je={class:"h-16 w-full bg-gray-100 flex justify-between items-center pr-1 pl-4"},Ne={key:0,class:"p-4 relative"},Re={class:"my-2 font-bold text-lg"},Pe={class:"block"},ze={class:"mt-2"},Be={class:"inline-flex items-center"},Je=e("span",{class:"ml-2"},"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u043C\u043E",-1),Me={class:"relative mt-1"},Ue={class:"block truncate"},Fe={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Ge={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},He={class:"my-4 space-y-2"},Xe={class:"block"},Ee=e("span",{class:"text-gray-700"},"\u041A\u043E\u0434\u043E\u0432\u043E\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Ke={class:"my-4 space-y-2"},We=e("header",{class:"text-xs font-bold uppercase text-gray-400"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Qe={class:"text-sm"},Ye={key:0,class:"my-4 space-y-2"},Ze=e("header",{class:"text-xs font-bold uppercase text-gray-400"},"\u041F\u0440\u0438\u043C\u0435\u0440\u044B",-1),$e={class:"text-sm list-disc ml-4"},eo={class:"my-4 space-y-2"},oo={class:"block"},to=e("span",{class:"text-gray-700"},"Comments",-1),so={class:"my-4 space-y-2"},io={class:"block"},lo=e("span",{class:"text-gray-700"},"\u041D\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043B\u044C",-1),no={class:"my-4 space-y-2"},ao={class:"block"},ro=e("span",{class:"text-gray-700"},"\u0417\u0430\u0449\u0438\u0442\u0430",-1),co={class:"my-4 space-y-2"},uo={class:"block"},vo=e("span",{class:"text-gray-700"},"\u041E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u0435",-1),fo={class:"flex flex-col w-screen h-screen"},po={class:"flex-1 overflow-auto p-4 pb-20"},bo={key:0,class:"flex space-x-1 text-xs"},go={class:"h-16"},ho={class:"font-bold"},mo={class:"pr-8"},yo={class:"space-y-1 mt-1"},_o=["onClick"],xo={class:"flex justify-between"},wo={key:0,class:"truncate"},ko={key:1},To={class:"flex items-center space-x-1"},qo={key:0},Do={key:1},Co={key:2},Lo={key:1,class:"flex items-center justify-center h-full"},So={class:"flex space-x-8"},Io={class:"w-72 border rounded-lg p-8"},Oo=e("div",{class:"font-bold text-lg"},"Load your matrix",-1),Vo={class:"h-32 bg-gray-100 border rounded-lg my-4 p-8 flex items-center justify-center text-xs"},Ao={key:0},jo={key:1,class:"cursor-pointer"},No=e("div",{class:"w-72 border rounded-lg p-8"},[e("div",{class:"font-bold text-lg"},"Use template...")],-1),Ro={class:"h-10 bg-gray-50 border-t flex justify-between items-center text-xs px-4 z-50 relative"},Po=e("div",{class:"font-bold"},[E("FATT Navigator \xB7 "),e("span",{class:"font-normal"},"Sinfores SXI")],-1),zo={class:"flex items-center space-x-2"};function Bo(a,t,i,o,r,u){const f=p("DialogOverlay"),q=p("TransitionChild"),D=p("DialogTitle"),A=p("Dialog"),k=p("TransitionRoot"),_=p("XIcon"),j=p("SelectorIcon"),C=p("ListboxButton"),J=p("CheckIcon"),N=p("ListboxOption"),R=p("ListboxOptions"),P=p("Listbox");return l(),n("div",null,[v(k,{appear:"",show:o.isOpen,as:"template"},{default:h(()=>[v(A,{as:"div",onClose:o.closeModal},{default:h(()=>[e("div",he,[e("div",me,[v(q,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>[v(f,{class:"fixed inset-0"})]),_:1}),ye,v(q,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:h(()=>[e("div",_e,[v(D,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:h(()=>[xe]),_:1}),we,e("div",ke,[e("div",O(V(o.getRootProps())),[e("input",O(V(o.getInputProps())),null,16),a.isDragActive?(l(),n("p",Te,"Drop the files here ...")):(l(),n("p",qe,"Drag 'n' drop some files here, or click to select files"))],16)]),e("div",De,[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[0]||(t[0]=s=>o.loadJSON())}," Load it! ")])])]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]),o.isActionsDialogVisible?(l(),n("div",Ce,[e("div",Le,[e("div",{onClick:t[1]||(t[1]=s=>o.isActionsDialogVisible=!1),class:"flex items-center justify-center h-8 w-8 rounded-full hover:bg-gray-200 cursor-pointer"},[v(_,{class:"w-5 h-5","aria-hidden":"true"})])]),Se])):m("",!0),o.isSearchDialogVisible?(l(),n("div",Ie,[e("div",Oe,[e("div",{onClick:t[2]||(t[2]=s=>o.isSearchDialogVisible=!1),class:"flex items-center justify-center h-8 w-8 rounded-full hover:bg-gray-200 cursor-pointer"},[v(_,{class:"w-5 h-5","aria-hidden":"true"})])]),Ve])):m("",!0),o.isTechniqueDialogVisible?(l(),n("div",Ae,[e("div",je,[e("div",null,[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[3]||(t[3]=s=>o.saveTechnique())}," Save it! ")]),e("div",{onClick:t[4]||(t[4]=s=>o.isTechniqueDialogVisible=!1),class:"cursor-pointer h-8 w-8 rounded-full flex items-center justify-center hover:bg-gray-200"},[v(_,{class:"w-5 h-5","aria-hidden":"true"})])]),o.activeTechiqueId?(l(),n("div",Ne,[e("div",Re,b(o.activeTechiqueId),1),e("div",Pe,[e("div",ze,[e("div",null,[e("label",Be,[w(e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[5]||(t[5]=s=>o.activeTechniqueApplicability=s)},null,512),[[re,o.activeTechniqueApplicability]]),Je])])])]),v(P,{modelValue:o.activeTechniqueColor,"onUpdate:modelValue":t[6]||(t[6]=s=>o.activeTechniqueColor=s)},{default:h(()=>[e("div",Me,[v(C,{class:"relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm"},{default:h(()=>[e("span",Ue,b(o.colors.find(s=>s.value===o.activeTechniqueColor).label),1),e("span",Fe,[v(j,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])]),_:1}),v(ue,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:h(()=>[v(R,{class:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:h(()=>[(l(!0),n(S,null,I(o.colors,s=>(l(),de(N,{key:s.value,value:s.value,as:"template"},{default:h(({active:d,selected:x})=>[e("li",{class:B([d?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 pl-10 pr-4",s.value])},[e("span",{class:B([x?"font-medium":"font-normal","block truncate"])},b(s.label),3),x?(l(),n("span",Ge,[v(J,{class:"w-5 h-5","aria-hidden":"true"})])):m("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e("section",He,[e("label",Xe,[Ee,w(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=s=>o.activeTechique.short_name=s)},null,512),[[T,o.activeTechique.short_name]])])]),e("section",Ke,[We,e("div",Qe,b(o.activeTechique.name),1)]),o.activeTechique.examples.length>0?(l(),n("section",Ye,[Ze,e("ul",$e,[(l(!0),n(S,null,I(o.activeTechique.examples,s=>(l(),n("li",{key:s.id},b(s.content),1))),128))])])):m("",!0),e("section",eo,[e("label",oo,[to,w(e("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":t[8]||(t[8]=s=>o.activeTechique.comment=s)},null,512),[[T,o.activeTechique.comment]])])]),e("section",so,[e("label",io,[lo,w(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=s=>o.activeTechique.intruder=s)},null,512),[[T,o.activeTechique.intruder]])])]),e("section",no,[e("label",ao,[ro,w(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=s=>o.activeTechique.protect=s)},null,512),[[T,o.activeTechique.protect]])])]),e("section",co,[e("label",uo,[vo,w(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[11]||(t[11]=s=>o.activeTechique.detect=s)},null,512),[[T,o.activeTechique.detect]])])])])):m("",!0)])):m("",!0),e("div",fo,[e("div",po,[o.matrix?(l(),n("div",bo,[(l(!0),n(S,null,I(o.matrix.tactics,s=>(l(),n("div",{key:s.id,class:"w-40"},[e("div",null,[e("header",go,[e("div",ho,b(s.id),1),e("div",mo,b(s.short_name),1)]),e("div",yo,[(l(!0),n(S,null,I(o.matrix.techniques,d=>(l(),n("div",{key:d.id},[s.techniques.includes(d.id)?(l(),n("div",{key:0,class:B(["border p-2 cursor-pointer hover:bg-gray-100 h-8",[d.color,d.id===o.activeTechiqueId?"border-gray-900":"",d.applicable?"":"opacity-10"]]),onClick:x=>o.setActiveTechique(d.id)},[e("div",xo,[d.short_name?(l(),n("div",wo,b(d.short_name),1)):(l(),n("div",ko,b(d.id),1)),e("div",To,[parseInt(d.intruder)!==0?(l(),n("div",qo,"H"+b(d.intruder),1)):m("",!0),parseInt(d.protect)!==0?(l(),n("div",Do,"P"+b(d.protect),1)):m("",!0),parseInt(d.detect)!==0?(l(),n("div",Co,"D"+b(d.detect),1)):m("",!0)])])],10,_o)):m("",!0)]))),128))])])]))),128))])):(l(),n("div",Lo,[e("div",So,[e("div",Io,[Oo,e("div",Vo,[e("div",O(V(o.getRootProps())),[e("input",O(V(o.getInputProps())),null,16),a.isDragActive?(l(),n("p",Ao,"Drop the files here ...")):(l(),n("p",jo,"Drag 'n' drop some files here, or click to select files"))],16)])]),No])]))]),e("div",Ro,[Po,e("div",zo,[e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[12]||(t[12]=s=>o.isSearchDialogVisible=!0)},"Search"),e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[13]||(t[13]=s=>o.isActionsDialogVisible=!0)},"Actions"),e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[14]||(t[14]=(...s)=>o.openModal&&o.openModal(...s))},"Load"),e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[15]||(t[15]=s=>o.saveJSON())},"Save")])])])])}var Jo=pe(ge,[["render",Bo]]);ve(Jo).mount("#app");
