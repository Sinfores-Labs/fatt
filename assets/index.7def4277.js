var X=Object.defineProperty;var L=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var z=(a,t,i)=>t in a?X(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i,F=(a,t)=>{for(var i in t||(t={}))M.call(t,i)&&z(a,i,t[i]);if(L)for(var i of L(t))U.call(t,i)&&z(a,i,t[i]);return a};var H=(a,t)=>{var i={};for(var o in a)M.call(a,o)&&t.indexOf(o)<0&&(i[o]=a[o]);if(a!=null&&L)for(var o of L(a))t.indexOf(o)<0&&U.call(a,o)&&(i[o]=a[o]);return i};import{T as E,a as K,L as W,b as Q,c as Y,d as Z,r as $,e as ee,f as oe,D as te,g as se,h as ie,i as m,w as G,u as ne,j as f,o as n,k as l,l as v,m as g,n as e,p as h,t as p,q as y,v as le,s as k,F as I,x as O,y as A,z as V,A as ae,B as re,C as B,E as ce,G as de,H as ue}from"./vendor.d66e8fbf.js";const ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const c of d)if(c.type==="childList")for(const _ of c.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&o(_)}).observe(document,{childList:!0,subtree:!0});function i(d){const c={};return d.integrity&&(c.integrity=d.integrity),d.referrerpolicy&&(c.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?c.credentials="include":d.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(d){if(d.ep)return;d.ep=!0;const c=i(d);fetch(d.href,c)}};ve();var fe=(a,t)=>{for(const[i,o]of t)a[i]=o;return a};const pe=[{label:"White",value:"bg-white"},{label:"Light Gray",value:"bg-gray-100"},{label:"Heavy Gray",value:"bg-gray-300"},{label:"Light Green",value:"bg-green-100"},{label:"Heavy Green",value:"bg-green-300"},{label:"Light yellow",value:"bg-yellow-200"},{label:"Heavy yellow",value:"bg-yellow-500"},{label:"Light Red",value:"bg-red-200"},{label:"Heavy Red",value:"bg-red-500"}],be={components:{TransitionRoot:E,TransitionChild:K,Listbox:W,ListboxButton:Q,ListboxOptions:Y,ListboxOption:Z,CheckIcon:$,SelectorIcon:ee,XIcon:oe,Dialog:te,DialogOverlay:se,DialogTitle:ie},setup(){const a=m(!1),t=m(),i=m(null),o=m(!0);G(o,(r,b)=>{i.value&&(t.value.techniques.find(R=>R.id===i.value).applicable=r)});const d=m("bg-white");G(d,(r,b)=>{i.value&&(t.value.techniques.find(R=>R.id===i.value).color=r)});const c=m(null),_=r=>{x.value=!0,i.value=r,c.value=t.value.techniques.find(b=>b.id===r),o.value=c.value.applicable,d.value=c.value.color},x=m(!1),S=()=>{const r=t.value.techniques.find(b=>b.id===i.value);r.comment=c.value.comment,r.intruder=parseInt(c.value.intruder),r.protect=parseInt(c.value.protect),r.detect=parseInt(c.value.detect)},w=m(!1),T=()=>{w.value=!1},q=()=>{w.value=!0};let C;const u=ne({onDrop:(r,b)=>{C=r[0],D()}}),{getRootProps:j,getInputProps:N}=u,P=H(u,["getRootProps","getInputProps"]),D=()=>{let r=new FileReader;r.onload=b=>t.value=JSON.parse(b.target.result),r.onerror=b=>console.log(b),r.readAsText(C),T()};return F({isActionsDialogVisible:a,matrix:t,activeTechiqueId:i,activeTechique:c,setActiveTechique:_,saveTechnique:S,isTechniqueDialogVisible:x,activeTechniqueColor:d,colors:pe,activeTechniqueApplicability:o,isOpen:w,closeModal:T,openModal:q,loadJSON:D,saveJSON:()=>{let r=new Blob([JSON.stringify(t.value)],{type:"application/json;charset=utf-8"});ae.exports.saveAs(r,"matrix.json")},getRootProps:j,getInputProps:N},P)}},ge={class:"fixed inset-0 z-10 overflow-y-auto"},he={class:"min-h-screen px-4 text-center"},me=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),_e={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},ye=de(" Load JSON-data "),xe=e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"}," Choose json-file to load your data to application. ")],-1),we={class:"h-32 bg-gray-100 border rounded-lg my-4 flex items-center justify-center text-xs"},ke={key:0},Te={key:1,class:"cursor-pointer"},qe={class:"mt-4"},Ce={key:0,class:"absolute bottom-10 right-4 h-96 w-96 border bg-white flex flex-col z-10"},De={class:"h-10 bg-gray-100 flex items-center justify-end px-1"},Le=e("div",{class:"flex-1 overflow-auto"},"Actions",-1),Ie={key:1,class:"absolute bg-gray-50 w-96 border-l inset-y-0 right-0 shadow-lg overflow-auto z-10 opacity-100"},Oe={class:"h-16 w-full bg-gray-100 flex justify-between items-center pr-1 pl-4"},Ae={key:0,class:"p-4 relative"},Ve={class:"my-2 font-bold text-lg"},Se={class:"block"},je={class:"mt-2"},Ne={class:"inline-flex items-center"},Pe=e("span",{class:"ml-2"},"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u043C\u043E",-1),Re={class:"relative mt-1"},Be={class:"block truncate"},Je={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"},Me={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"},Ue={class:"my-4 space-y-2"},ze={class:"block"},Fe=e("span",{class:"text-gray-700"},"\u041A\u043E\u0434\u043E\u0432\u043E\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),He={class:"my-4 space-y-2"},Ge=e("header",{class:"text-xs font-bold uppercase text-gray-400"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Xe={class:"text-sm"},Ee={key:0,class:"my-4 space-y-2"},Ke=e("header",{class:"text-xs font-bold uppercase text-gray-400"},"\u041F\u0440\u0438\u043C\u0435\u0440\u044B",-1),We={class:"text-sm list-disc ml-4"},Qe={class:"my-4 space-y-2"},Ye={class:"block"},Ze=e("span",{class:"text-gray-700"},"Comments",-1),$e={class:"my-4 space-y-2"},eo={class:"block"},oo=e("span",{class:"text-gray-700"},"\u041D\u0430\u0440\u0443\u0448\u0438\u0442\u0435\u043B\u044C",-1),to={class:"my-4 space-y-2"},so={class:"block"},io=e("span",{class:"text-gray-700"},"\u0417\u0430\u0449\u0438\u0442\u0430",-1),no={class:"my-4 space-y-2"},lo={class:"block"},ao=e("span",{class:"text-gray-700"},"\u041E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u0435",-1),ro={class:"flex flex-col w-screen h-screen"},co={class:"flex-1 overflow-auto p-4 pb-20"},uo={key:0,class:"flex space-x-1 text-xs"},vo={class:"h-16"},fo={class:"font-bold"},po={class:"pr-8"},bo={class:"space-y-1 mt-1"},go=["onClick"],ho={class:"flex justify-between"},mo={key:0,class:"truncate"},_o={key:1},yo={class:"flex items-center space-x-1"},xo={key:0},wo={key:1},ko={key:2},To={key:1,class:"flex items-center justify-center h-full"},qo={class:"flex space-x-8"},Co={class:"w-72 border rounded-lg p-8"},Do=e("div",{class:"font-bold text-lg"},"Load your matrix",-1),Lo={class:"h-32 bg-gray-100 border rounded-lg my-4 p-8 flex items-center justify-center text-xs"},Io={key:0},Oo={key:1,class:"cursor-pointer"},Ao=e("div",{class:"w-72 border rounded-lg p-8"},[e("div",{class:"font-bold text-lg"},"Use template...")],-1),Vo={class:"h-10 bg-gray-50 border-t flex justify-between items-center text-xs px-4"},So=e("div",{class:"font-semibold"},"Sinfores SXI FATT Navigator",-1),jo={class:"flex items-center space-x-2"};function No(a,t,i,o,d,c){const _=f("DialogOverlay"),x=f("TransitionChild"),S=f("DialogTitle"),w=f("Dialog"),T=f("TransitionRoot"),q=f("XIcon"),C=f("SelectorIcon"),J=f("ListboxButton"),j=f("CheckIcon"),N=f("ListboxOption"),P=f("ListboxOptions"),D=f("Listbox");return n(),l("div",null,[v(T,{appear:"",show:o.isOpen,as:"template"},{default:g(()=>[v(w,{as:"div",onClose:o.closeModal},{default:g(()=>[e("div",ge,[e("div",he,[v(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[v(_,{class:"fixed inset-0"})]),_:1}),me,v(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g(()=>[e("div",_e,[v(S,{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:g(()=>[ye]),_:1}),xe,e("div",we,[e("div",A(V(o.getRootProps())),[e("input",A(V(o.getInputProps())),null,16),a.isDragActive?(n(),l("p",ke,"Drop the files here ...")):(n(),l("p",Te,"Drag 'n' drop some files here, or click to select files"))],16)]),e("div",qe,[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[0]||(t[0]=s=>o.loadJSON())}," Load it! ")])])]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]),o.isActionsDialogVisible?(n(),l("div",Ce,[e("div",De,[e("div",{onClick:t[1]||(t[1]=s=>o.isActionsDialogVisible=!1),class:"flex items-center justify-center h-8 w-8 rounded-full hover:bg-gray-200 cursor-pointer"},[v(q,{class:"w-5 h-5","aria-hidden":"true"})])]),Le])):h("",!0),o.isTechniqueDialogVisible?(n(),l("div",Ie,[e("div",Oe,[e("div",null,[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:t[2]||(t[2]=s=>o.saveTechnique())}," Save it! ")]),e("div",{onClick:t[3]||(t[3]=s=>o.isTechniqueDialogVisible=!1),class:"cursor-pointer h-8 w-8 rounded-full flex items-center justify-center hover:bg-gray-200"},[v(q,{class:"w-5 h-5","aria-hidden":"true"})])]),o.activeTechiqueId?(n(),l("div",Ae,[e("div",Ve,p(o.activeTechiqueId),1),e("div",Se,[e("div",je,[e("div",null,[e("label",Ne,[y(e("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":t[4]||(t[4]=s=>o.activeTechniqueApplicability=s)},null,512),[[le,o.activeTechniqueApplicability]]),Pe])])])]),v(D,{modelValue:o.activeTechniqueColor,"onUpdate:modelValue":t[5]||(t[5]=s=>o.activeTechniqueColor=s)},{default:g(()=>[e("div",Re,[v(J,{class:"relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-lg shadow-md cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm"},{default:g(()=>[e("span",Be,p(o.colors.find(s=>s.value===o.activeTechniqueColor).label),1),e("span",Je,[v(C,{class:"w-5 h-5 text-gray-400","aria-hidden":"true"})])]),_:1}),v(ce,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:g(()=>[v(P,{class:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:g(()=>[(n(!0),l(I,null,O(o.colors,s=>(n(),re(N,{key:s.value,value:s.value,as:"template"},{default:g(({active:u,selected:r})=>[e("li",{class:B([u?"text-amber-900 bg-amber-100":"text-gray-900","cursor-default select-none relative py-2 pl-10 pr-4",s.value])},[e("span",{class:B([r?"font-medium":"font-normal","block truncate"])},p(s.label),3),r?(n(),l("span",Me,[v(j,{class:"w-5 h-5","aria-hidden":"true"})])):h("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),e("section",Ue,[e("label",ze,[Fe,y(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=s=>o.activeTechique.short_name=s)},null,512),[[k,o.activeTechique.short_name]])])]),e("section",He,[Ge,e("div",Xe,p(o.activeTechique.name),1)]),o.activeTechique.examples.length>0?(n(),l("section",Ee,[Ke,e("ul",We,[(n(!0),l(I,null,O(o.activeTechique.examples,s=>(n(),l("li",{key:s.id},p(s.content),1))),128))])])):h("",!0),e("section",Qe,[e("label",Ye,[Ze,y(e("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":t[7]||(t[7]=s=>o.activeTechique.comment=s)},null,512),[[k,o.activeTechique.comment]])])]),e("section",$e,[e("label",eo,[oo,y(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[8]||(t[8]=s=>o.activeTechique.intruder=s)},null,512),[[k,o.activeTechique.intruder]])])]),e("section",to,[e("label",so,[io,y(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[9]||(t[9]=s=>o.activeTechique.protect=s)},null,512),[[k,o.activeTechique.protect]])])]),e("section",no,[e("label",lo,[ao,y(e("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"","onUpdate:modelValue":t[10]||(t[10]=s=>o.activeTechique.detect=s)},null,512),[[k,o.activeTechique.detect]])])])])):h("",!0)])):h("",!0),e("div",ro,[e("div",co,[o.matrix?(n(),l("div",uo,[(n(!0),l(I,null,O(o.matrix.tactics,s=>(n(),l("div",{key:s.id,class:"w-40"},[e("div",null,[e("header",vo,[e("div",fo,p(s.id),1),e("div",po,p(s.short_name),1)]),e("div",bo,[(n(!0),l(I,null,O(o.matrix.techniques,u=>(n(),l("div",{key:u.id},[s.techniques.includes(u.id)?(n(),l("div",{key:0,class:B(["border p-2 cursor-pointer hover:bg-gray-100 h-8",[u.color,u.id===o.activeTechiqueId?"border-gray-900":"",u.applicable?"":"opacity-10"]]),onClick:r=>o.setActiveTechique(u.id)},[e("div",ho,[u.short_name?(n(),l("div",mo,p(u.short_name),1)):(n(),l("div",_o,p(u.id),1)),e("div",yo,[parseInt(u.intruder)!==0?(n(),l("div",xo,"H"+p(u.intruder),1)):h("",!0),parseInt(u.protect)!==0?(n(),l("div",wo,"P"+p(u.protect),1)):h("",!0),parseInt(u.detect)!==0?(n(),l("div",ko,"D"+p(u.detect),1)):h("",!0)])])],10,go)):h("",!0)]))),128))])])]))),128))])):(n(),l("div",To,[e("div",qo,[e("div",Co,[Do,e("div",Lo,[e("div",A(V(o.getRootProps())),[e("input",A(V(o.getInputProps())),null,16),a.isDragActive?(n(),l("p",Io,"Drop the files here ...")):(n(),l("p",Oo,"Drag 'n' drop some files here, or click to select files"))],16)])]),Ao])]))]),e("div",Vo,[So,e("div",jo,[e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[11]||(t[11]=s=>o.isActionsDialogVisible=!0)},"Actions"),e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[12]||(t[12]=(...s)=>o.openModal&&o.openModal(...s))},"Load"),e("div",{class:"py-1 px-2 rounded hover:bg-gray-200 cursor-pointer font-semibold",type:"button",onClick:t[13]||(t[13]=s=>o.saveJSON())},"Save")])])])])}var Po=fe(be,[["render",No]]);ue(Po).mount("#app");
